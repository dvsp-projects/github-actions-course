name: 12-outputs

on:
  workflow_dispatch:
  push:

jobs:
  build-job:
    runs-on: ubuntu-latest  
    outputs:
      build-status: ${{ steps.build.status }}
      test-status: ${{ steps.test.result }}
    steps:
      - name: Print outout
        run: echo "$GITHUB_OUTPUT"

      - name: build
        id: build
        run: echo "status=success" >> "$GITHUB_OUTPUT"

      - name: test
        id: test
        run: echo "result=well" >> "$GITHUB_OUTPUT"  

  deploy-job:
    runs-on: ubuntu-latest
    needs: build-job
    if: ${{ needs.build-job.build-status == 'success' }}
    steps:
      - name: deploy
        run: echo "Deploying ..."
  
